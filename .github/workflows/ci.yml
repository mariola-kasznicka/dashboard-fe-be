name: CI


on:
pull_request:
push:
branches: [main]


jobs:
frontend:
runs-on: ubuntu-latest


steps:
  - uses: actions/checkout@v4


  - uses: actions/setup-node@v4
    with:
      node-version: 20
      cache: "npm"
      cache-dependency-path: frontend/package-lock.json


  - name: Install deps
    working-directory: frontend
    run: npm ci


  - name: TypeScript
    working-directory: frontend
    run: npm run typecheck


  - name: ESLint
    working-directory: frontend
    run: npm run lint


  - name: Prettier
    working-directory: frontend
    run: npm run format


  - name: Build
    working-directory: frontend
    run: npm run build